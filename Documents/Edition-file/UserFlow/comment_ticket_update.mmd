---
config:
  theme: redux-dark
  look: classic
  layout: dagre
---
flowchart TD

A[Utilisateur ouvre un post ou son profil] --> B[Utilisateur clique sur 'Modifier le commentaire']
B --> C[Chargement du commentaire existant]
C --> D[Utilisateur modifie le texte du commentaire]
D --> E[Utilisateur clique sur 'Mettre à jour']

E --> F[Frontend valide : champ non vide, longueur OK]
F -->|Validé| G[Envoi requête Mise à jour commentaire]
F -->|Erreur| F1[Affichage erreur : texte invalide]

G --> H[Backend vérifie :  
- Authentification  
- Propriété du commentaire  
- Champs conformes]

H -->|OK| I[Mise à jour du commentaire en base]
H -->|Erreur| H1[Retour erreur : 401, 403 ou 400]

I --> J[Retour succès au frontend]
J --> K[Affichage du commentaire mis à jour]

